# AD7280A BMS 개발 삽질기 시리즈 기획

## Part 1: 입문편

| #   | 제목                     | 핵심 내용                   | 상태   |
| --- | ---------------------- | ----------------------- | ---- |
| 1   | 48V 넣었다가 IC 터뜨릴 뻔한 이야기 | VDD 최대 정격, 데이지체인 구조     | ✅ 완료 |
| 2   | EVAL 보드 전원 구성의 함정      | J2/J3 커넥터 연결, 저항 분배기 구성 | ✅ 완료 |
| 3   | 첫 SPI 통신 성공까지          | STM32 SPI 설정, 첫 레지스터 읽기 | ✅ 완료 |

## Part 2: 채널 문제 해결편

| # | 제목 | 핵심 내용 | 상태 |
|---|------|----------|------|
| 4 | VIN5/VIN6에서 0만 읽힌다 | 4~5셀 구성 시 필수 연결, Self-test | ✅ 완료 |
| 5 | Acquisition Time 삽질 | 타이밍 설정 실수, 계산 공식 | ✅ 완료 |
| 6 | Alert Register 미사용 채널 제외 | 알람 오동작 해결 | ✅ 완료 |

## Part 3: 데이지체인편

| #   | 제목                    | 핵심 내용           | 상태  |
| --- | --------------------- | --------------- | --- |
| 7   | 2개 연결했더니 통신이 안 된다     | 데이지체인 초기화 순서    | ✅ 완료 |
| 8   | Device Address 할당의 비밀 | 자동 주소 할당 메커니즘   | ✅ 완료 |
| 9   | 8개 풀체인 구성기 (48셀)      | 대규모 스택 구성 시 주의점 | ✅ 완료 |

## Part 4: 셀 밸런싱편

| # | 제목 | 핵심 내용 | 상태 |
|---|------|----------|------|
| 10 | 패시브 밸런싱 기초 | 내장 스위치 제어, 방전 저항 선정 | |
| 11 | 밸런싱 알고리즘 구현 | 델타 전압 기반 vs SOC 기반 | |
| 12 | 밸런싱 중 발열 관리 | 열 계산, 듀티 제어 | |

## Part 5: 펌웨어 아키텍처편

| # | 제목 | 핵심 내용 | 상태 |
|---|------|----------|------|
| 16 | AD7280A 드라이버 구조 설계 | HAL 분리, 테스트 가능한 구조 | |
| 17 | FreeRTOS 태스크 구성 | 측정 주기, 우선순위 설계 | |
| 18 | 에러 핸들링 전략 | 통신 실패, CRC 오류 처리 | |

## Part 6: CAN 통신편

| # | 제목 | 핵심 내용 | 상태 |
|---|------|----------|------|
| 19 | BMS CAN 프로토콜 설계 | 메시지 ID 할당, DBC 파일 | |
| 20 | CAN 부트로더 구현 | 현장 펌웨어 업데이트 | |
| 21 | UDS 프로토콜 적용기 | 자동차 표준 진단 통신 | |

## Part 7: 안전 기능편

| # | 제목 | 핵심 내용 | 상태 |
|---|------|----------|------|
| 22 | 과전압/과방전 보호 구현 | 임계값 설정, 히스테리시스 | |
| 23 | 온도 센서 연동 | NTC 보정, 열폭주 감지 | |
| 24 | 비상 차단 로직 | 페일세이프, 릴레이 제어 | |

## Part 8: 알고리즘편

| #   | 제목            | 핵심 내용             | 상태  |
| --- | ------------- | ----------------- | --- |
| 25  | SOC 추정 삽질기    | 쿨롱 카운팅 vs OCV 테이블 |     |
| 26  | SOH 계산 어떻게 하나 | 용량 열화 추적          |     |
| 27  | 칼만 필터 적용해봤다   | 이론 vs 현실의 괴리      |     |
|     |               |                   |     |

## Part 9: 하드웨어 설계편

| #   | 제목             | 핵심 내용                  | 상태  |
| --- | -------------- | ---------------------- | --- |
| 13  | 회로도 설계 시 실수들   | 데이터시트 Figure 29 과전압 보호 |     |
| 14  | PCB 레이아웃 삽질    | 고전압 절연, Kelvin 연결      |     |
| 15  | EMC 인증 떨어진 이야기 | 노이즈 대책, 필터 설계          |     |

## Part 10: 실전 & 양산편

| # | 제목 | 핵심 내용 | 상태 |
|---|------|----------|------|
| 28 | 실제 배터리 팩 연동 | 48V 팩 첫 연결의 긴장감 | |
| 29 | 필드 테스트에서 터진 것들 | 예상 못한 엣지 케이스 | |
| 30 | 양산 검사 지그 만들기 | EOL 테스트 자동화 | |

## 번외편

| # | 제목 | 핵심 내용 | 상태 |
|---|------|----------|------|
| B1 | AD7280A는 왜 단종됐나 | NRND 상태, 후속 제품 ADBMS 시리즈 | |
| B2 | Linux IIO 드라이버 분석 | 커널 드라이버 코드 리딩 | |
| B3 | 중국산 BMS IC 비교 | 가성비 대안 검토 | |

---

## 참고 자료

- [AD7280A Datasheet](https://www.analog.com/media/en/technical-documentation/data-sheets/ad7280a.pdf)
- [EVAL-AD7280AEDZ User Guide (UG-252)](https://www.analog.com/media/en/technical-documentation/user-guides/ug-252.pdf)
- [CN0197 - 리튬이온 배터리 스택 모니터링](https://www.analog.com/en/resources/reference-designs/circuits-from-the-lab/cn0197.html)
- [EngineerZone AD7280A 포럼](https://ez.analog.com)

---

## 메모

- 총 33개 글 (본편 30 + 번외 3)
- 예상 연재 기간: 6개월 ~ 1년 (주 1회 기준)
- 완성 후 전자책 묶음 가능
