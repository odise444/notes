---
title: "AD7280A BMS 개발 삽질기 번외 #1 - 단종 통보를 받던 날"
date: 2024-12-15
draft: false
tags: ["AD7280A", "BMS", "단종", "ADBMS", "EOL"]
categories: ["BMS 개발"]
series: ["AD7280A BMS 개발"]
summary: "양산 준비 끝났다! 고 기뻐하던 그때, 부품팀에서 전화가 왔다. 'AD7280A가 단종 예정이래요.'"
---

## 그날의 전화

2023년 11월, 금요일 오후.

양산 검증 끝나고 퇴근 준비하던 중이었다. 부품팀 김 대리에게서 전화가 왔다.

**"AD7280A 부품 상태 확인해봤는데요... NRND래요."**

NRND. Not Recommended for New Design. 신규 설계 비권장.

**"그게 무슨 소리야? 지금 양산 들어가려고 하는데?"**

"디지키 들어가서 확인해보세요."

전화 끊고 바로 디지키 접속. 검색창에 AD7280A.

```
AD7280AWBSTZ
Status: NRND
Lifecycle: Not Recommended for New Design
```

심장이 쿵 내려앉았다.

---

## NRND가 뭔데?

반도체 부품의 생명주기:

```
┌─────────────────────────────────────────────────────┐
│                                                     │
│  Active ──► NRND ──► Last Buy ──► EOL ──► Obsolete │
│    ↑         ↑          ↑         ↑         ↑      │
│  양산 중   신규 설계   마지막    단종      완전     │
│           비권장     구매 기회   선언     단종     │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**NRND 상태의 의미:**
- 아직 생산은 한다
- 하지만 신규 설계에 쓰지 말라
- 언제 Last Buy 될지 모른다
- 대체품 찾아야 한다

문제는 우리 제품이 **신규 설계**라는 것.

---

## 왜 이제야 알았나?

돌이켜보니 징조가 있었다.

**1. 데이터시트 업데이트 없음**

```
AD7280A Datasheet:
- Rev A: 2010
- Rev B: 2012
- Rev C: 2014
- 이후: 없음 (10년간 업데이트 없음!)
```

**2. EngineerZone 질문 감소**

```
2015년: 월 20개 질문
2018년: 월 5개 질문
2023년: 월 1개 질문
```

**3. 레퍼런스 디자인 노후화**

```
CN0197 (AD7280A 레퍼런스):
- 발행: 2011년
- 마지막 업데이트: 2014년
- 현재: "이 디자인은 더 이상 업데이트되지 않습니다"
```

봤어야 했다. 그런데 바빠서 못 봤다.

---

## 재고 파악

월요일 아침, 출근하자마자 재고 조사 시작.

**국내:**
```
디지키 코리아: 0개
마우저 코리아: 0개
아이씨뱅크: 0개
엘레파츠: 12개 (소량)
```

**해외:**
```
Digi-Key US: 47개
Mouser US: 0개
Newark: 23개
Arrow: 재고 확인 필요
Avnet: 재고 확인 필요
```

**전 세계 합쳐서 100개도 안 됐다.**

우리 양산 목표: 1000대. 디바이스 4개씩이면 4000개 필요.

---

## 비상 대책 회의

팀장님 소집. 긴급 회의.

**"대안이 뭐가 있어?"**

옵션을 정리했다:

```
┌─────────────────────────────────────────────────────┐
│  옵션 1: 재고 긁어모으기                            │
│  - 전 세계 유통사 + 브로커 뒤지기                   │
│  - 리드타임: 2~4주                                  │
│  - 위험: 가품, 불량 섞여있을 수 있음               │
├─────────────────────────────────────────────────────┤
│  옵션 2: ADI에 특별 주문                            │
│  - MOQ 10,000개 이상?                               │
│  - 리드타임: 26~52주                                │
│  - 비용: 협상 필요                                  │
├─────────────────────────────────────────────────────┤
│  옵션 3: 후속 제품으로 재설계                       │
│  - ADBMS1818, ADBMS6830 등                         │
│  - 리드타임: 6개월~1년 (재개발)                     │
│  - 비용: 개발비 + PCB + 인증 재취득               │
├─────────────────────────────────────────────────────┤
│  옵션 4: 중국산 대안                                │
│  - 가격 저렴, 재고 많음                            │
│  - 리드타임: 2주                                    │
│  - 위험: 품질, 신뢰성, 기술 지원                   │
└─────────────────────────────────────────────────────┘
```

결론: **일단 옵션 1로 버티면서, 옵션 3 준비.**

---

## 재고 긁어모으기

다음 날부터 전화기 붙들고 유통사 순회.

**브로커 연락:**

"AD7280AWBSTZ 있어요?"

"있긴 한데... 개당 15달러요."

**정가가 8달러인데 15달러?** 거의 두 배.

"수량이요?"

"200개."

없는 것보단 낫다. 일단 확보.

**또 다른 브로커:**

"500개 있어요. 개당 12달러."

"어디서 온 물건이에요?"

"..."

수상했다. 가품 위험. 패스.

---

## 가품 구별법

브로커에서 사면 가품 위험이 있다. 확인 방법:

```
가품 감별 체크리스트:
┌─────────────────────────────────────────────────────┐
│  1. 패키지 인쇄 상태                                │
│     - 정품: 선명, 일정한 폰트                       │
│     - 가품: 흐림, 불균일                            │
│                                                     │
│  2. 리드 프레임 상태                                │
│     - 정품: 균일한 도금                             │
│     - 가품: 산화, 변색                              │
│                                                     │
│  3. Date Code 일관성                                │
│     - 정품: 같은 로트는 같은 코드                   │
│     - 가품: 뒤죽박죽                                │
│                                                     │
│  4. X-ray 검사                                      │
│     - 다이 크기, 본딩 와이어 확인                   │
│                                                     │
│  5. 전기적 테스트                                   │
│     - 데이터시트 스펙 전수 검사                     │
└─────────────────────────────────────────────────────┘
```

**결국 공인 유통사에서만 구매하기로 결정.**

Arrow에서 150개, Avnet에서 200개 확보. 총 350개.

1년 치 정도는 버틸 수 있게 됐다.

---

## 후속 제품 조사

NRND 부품에 계속 의존할 순 없다. 후속 제품 조사 시작.

**ADI 배터리 모니터링 IC 라인업 (2023년 기준):**

```
┌─────────────────────────────────────────────────────────┐
│  제품명       │ 셀 수 │ 특징                │ 상태    │
├───────────────┼───────┼────────────────────┼─────────┤
│  AD7280A      │ 6셀   │ SPI, 데이지체인    │ NRND    │
│  LTC6811      │ 12셀  │ isoSPI, 고정밀     │ Active  │
│  LTC6813      │ 18셀  │ isoSPI, 고정밀     │ Active  │
│  ADBMS1818    │ 18셀  │ isoSPI, 차세대     │ Active  │
│  ADBMS6830    │ 16셀  │ SPI, 최신          │ Active  │
└─────────────────────────────────────────────────────────┘
```

**AD7280A vs ADBMS6830 비교:**

| 항목 | AD7280A | ADBMS6830 |
|------|---------|-----------|
| 셀 수 | 6 | 16 |
| 정밀도 | 1.5mV | 0.8mV |
| 통신 | SPI | SPI |
| 데이지체인 | O | O |
| 밸런싱 전류 | 100mA | 300mA |
| 가격 | $8 | $15 |
| 상태 | NRND | Active |

**ADBMS6830이 더 좋긴 한데...**

- 핀 호환 안 됨
- 레지스터 맵 다름
- 드라이버 새로 짜야 함
- PCB 재설계 필요

---

## 마이그레이션 계획

팀장님과 협의 끝에 로드맵 수립:

```
마이그레이션 로드맵:
┌─────────────────────────────────────────────────────┐
│                                                     │
│  2023 Q4: AD7280A 재고 확보, ADBMS6830 평가        │
│           └── 현재 여기                             │
│                                                     │
│  2024 Q1: ADBMS6830 드라이버 개발                  │
│                                                     │
│  2024 Q2: 신규 PCB 설계 및 시제품                  │
│                                                     │
│  2024 Q3: 인증 테스트                               │
│                                                     │
│  2024 Q4: 신제품 양산 전환                          │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**교훈:**

핵심 부품은 **설계 전에** Lifecycle 확인하자.

---

## ADI의 공식 입장

ADI 한국 지사에 문의했다.

**"AD7280A 후속이 뭔가요?"**

"LTC6811 시리즈나 ADBMS 시리즈를 권장합니다."

**"핀 호환되는 건 없나요?"**

"없습니다. 아키텍처가 완전히 다릅니다."

**"AD7280A 언제까지 살 수 있나요?"**

"현재 NRND 상태이고, Last Buy 일정은 아직 미정입니다. 다만 재고가 소진되면 추가 생산 계획은 없습니다."

결국 **갈아타야 한다**는 뜻이었다.

---

## 정리: 단종 대응 체크리스트

```
부품 단종 대응:
┌─────────────────────────────────────────────────────┐
│                                                     │
│  [사전 예방]                                        │
│  □ 설계 전 Lifecycle 확인                          │
│  □ NRND/EOL 알림 구독                              │
│  □ 2nd Source 확보                                 │
│  □ 안전 재고 정책 수립                             │
│                                                     │
│  [단종 통보 시]                                     │
│  □ 남은 재고 파악                                  │
│  □ Last Buy 일정 확인                              │
│  □ 필요 수량 계산                                  │
│  □ 대체품 조사                                     │
│                                                     │
│  [재고 확보]                                        │
│  □ 공인 유통사 우선                                │
│  □ 브로커는 가품 주의                              │
│  □ 입고 검사 철저히                                │
│                                                     │
│  [장기 대책]                                        │
│  □ 후속 제품 마이그레이션 계획                     │
│  □ 재설계 일정 및 비용 산정                        │
│  □ 인증 재취득 준비                                │
│                                                     │
└─────────────────────────────────────────────────────┘
```

**가장 큰 교훈:**

> "부품은 영원하지 않다."

지금 멀쩡해 보여도 내일 단종 통보가 올 수 있다.

**다음 글에서**: Linux IIO 드라이버 분석 - 커널 개발자들은 AD7280A를 어떻게 다뤘을까?

---

## 시리즈 네비게이션

**번외편**
- **B1 - AD7280A 단종 이야기** ← 현재 글
- B2 - Linux IIO 드라이버 분석
- B3 - 중국산 BMS IC 비교
- B4 - 14S→24S 변환기

---

## 참고 자료

- [AD7280A Product Page](https://www.analog.com/en/products/ad7280a.html)
- [ADBMS6830 Datasheet](https://www.analog.com/en/products/adbms6830.html)
- [Component Lifecycle Management](https://www.arrow.com/en/research-and-events/articles/component-lifecycle-management)
