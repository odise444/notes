---
title: "AD7280A BMS 개발 삽질기 번외 #3 - 중국산 BMS IC, 써도 될까?"
date: 2024-12-15
draft: false
tags: ["AD7280A", "BMS", "중국산", "AFE", "가성비"]
categories: ["BMS 개발"]
series: ["AD7280A BMS 개발"]
summary: "AD7280A 단종 소식에 대안을 찾다가 중국산 IC를 발견했다. 가격이 1/5? 품질은?"
---

## 대안을 찾아서

AD7280A 단종 통보 후, 대안을 찾기 시작했다.

ADI의 후속 제품(ADBMS6830)은 좋지만 비싸다. 개당 15달러. 4개면 60달러. BOM 원가의 20%가 BMS IC다.

**"중국산은 어때요?"**

동료가 던진 한마디에 알리바바를 열었다.

```
검색어: "Battery Monitor IC SPI"

결과:
- HY2120: $0.8 (???)
- BQ76920 호환: $1.5
- 자체 개발 AFE: $2.0
```

**AD7280A의 1/5 가격?** 진짜인가?

---

## 중국산 BMS IC 현황

중국에서 만드는 배터리 모니터링 IC들:

```
┌─────────────────────────────────────────────────────────┐
│  제조사        │ 제품명    │ 셀 수 │ 가격   │ 특징     │
├────────────────┼───────────┼───────┼────────┼──────────┤
│  华邦 (Winbond)│ W7280     │ 6셀   │ $3     │ AD7280   │
│               │           │       │        │ 호환?    │
├────────────────┼───────────┼───────┼────────┼──────────┤
│  中颖 (Sinowealth)│ SH79F32│ 16셀  │ $2     │ 자체 AFE │
├────────────────┼───────────┼───────┼────────┼──────────┤
│  海芯 (Hycon) │ HY2120    │ 5셀   │ $0.8   │ 초저가   │
├────────────────┼───────────┼───────┼────────┼──────────┤
│  比亚迪 (BYD) │ BM3451    │ 14셀  │ $4     │ 자동차용 │
├────────────────┼───────────┼───────┼────────┼──────────┤
│  杰华特 (JHT)  │ JW3816    │ 16셀  │ $3     │ LTC6813  │
│               │           │       │        │ 호환     │
└─────────────────────────────────────────────────────────┘
```

**흥미로운 발견**: AD7280A "호환" 제품이 있다?

---

## 샘플 주문

일단 몇 개 사서 테스트해보기로 했다.

**주문 목록:**
- W7280 (AD7280A 호환 주장): 10개
- SH79F32 (16셀): 5개
- JW3816 (LTC6813 호환 주장): 5개

**가격:**
- 총 $50 + 배송비 $20
- AD7280A 20개 사는 가격으로 세 종류 다 테스트

2주 후 도착.

---

## 테스트 1: W7280 (AD7280A 호환?)

패키지를 열었다. 생긴 건 비슷했다.

```
AD7280A:                W7280:
┌──────────────┐        ┌──────────────┐
│   ANALOG     │        │   WINBOND    │
│   DEVICES    │        │              │
│              │        │              │
│   AD7280A    │        │   W7280      │
│   BSTZ       │        │   A          │
│   1234       │        │   2345       │
└──────────────┘        └──────────────┘

핀 배치: 동일 (LQFP-64)
```

**첫 테스트: 전원 인가**

```c
// 기존 AD7280A 드라이버 그대로 사용
AD7280A_Init();
```

결과: **통신 성공!**

```
Device ID: 0x01 (AD7280A와 동일)
Cell 0: 3201 mV
Cell 1: 3198 mV
...
```

**오, 진짜 호환되네?**

---

## 정밀도 테스트

기준 전압을 인가하고 정밀도 측정.

**테스트 조건:**
- 기준 전압: 3.200V (Keysight 34465A 멀티미터로 확인)
- 샘플 수: 1000회
- 온도: 25°C

**결과:**

```
AD7280A (정품):
- 평균: 3.2015V
- 표준편차: 0.8mV
- 최대 오차: ±1.5mV

W7280 (중국산):
- 평균: 3.2047V
- 표준편차: 2.3mV
- 최대 오차: ±4.7mV
```

**오차가 3배.** 데이터시트 스펙(±1.5mV) 벗어남.

**온도 테스트:**

```
-20°C:
- AD7280A: 3.198V (드리프트 -0.3mV)
- W7280: 3.189V (드리프트 -1.6mV)

60°C:
- AD7280A: 3.204V (드리프트 +0.4mV)
- W7280: 3.221V (드리프트 +2.1mV)
```

**온도 드리프트 5배.** 고온/저온 환경에서 문제될 수 있음.

---

## 테스트 2: 밸런싱 기능

밸런싱 ON 후 방전 전류 측정.

**AD7280A:**
```
설정: CELL_BALANCE = 0x01 (Cell 0 밸런싱)
측정 전류: 98mA (33Ω 기준, 이론값 100mA)
발열: 저항에서만 발생, IC 정상
```

**W7280:**
```
설정: CELL_BALANCE = 0x01
측정 전류: 87mA (13% 낮음)
발열: IC 자체도 따뜻함 (?)
```

**IC가 왜 뜨겁지?**

내부 스위치 Rds(on)이 높은 것 같았다.

```
AD7280A Rds(on): 약 10Ω (추정)
W7280 Rds(on): 약 25Ω (추정) ← 2.5배

→ IC 내부에서 추가 발열
→ 고온 환경에서 위험할 수 있음
```

---

## 테스트 3: 장기 안정성

5대 만들어서 1주일 연속 가동.

**결과:**

```
Day 1: 5대 정상
Day 2: 5대 정상
Day 3: 5대 정상
Day 4: 4대 정상, 1대 통신 불안정
Day 5: 4대 정상, 1대 완전 사망
Day 6: 3대 정상, 2대 사망
Day 7: 3대 정상
```

**불량률 40%?!**

죽은 IC를 분석해보니:

```
X-ray 결과:
- 본딩 와이어 일부 끊어짐
- 다이 크랙 발견 (1개)
```

**품질 관리 문제.** 패키징 불량.

---

## 테스트 4: SH79F32 (16셀)

이건 AD7280A 호환이 아니라 자체 설계 제품.

**장점:**
- 16셀 지원 (AD7280A × 3 대체)
- SPI + I2C 지원
- 내장 MCU (자체 보호 로직)

**단점:**
```
데이터시트:
- 영문 없음 (중국어만)
- 레지스터 설명 부실
- 예제 코드 없음
```

**개발 시간:**

```
AD7280A (영문 데이터시트 + 레퍼런스):
- 드라이버 개발: 2주

SH79F32 (중국어 + 부실한 문서):
- 데이터시트 번역: 1주
- 드라이버 개발: 4주
- 디버깅: 2주
총 7주
```

**기술 지원:**

```
이메일 문의 응답: 없음
WeChat 문의: 3일 후 답변 (중국어)
"이 기능 되나요?" → "데이터시트 보세요"
```

---

## 테스트 5: JW3816 (LTC6813 호환)

이건 좀 달랐다. 제대로 된 회사 제품.

**Datasheet 품질:**
- 영문 버전 존재
- 상세한 레지스터 설명
- 어플리케이션 노트 있음

**테스트 결과:**

```
정밀도: ±1.2mV (LTC6813 스펙 이내)
온도 드리프트: 양호
장기 안정성: 5대 중 5대 정상 (1주일)
```

**가격:**
- JW3816: $3
- LTC6813: $12
- 75% 저렴

**하지만...**

```
문제점:
1. 핀 호환이지만 레지스터 맵이 "거의" 같지 "완전히" 같지 않음
2. 일부 기능 미구현 (GPIO, PWM 등)
3. isoSPI 지원 안 됨 (일반 SPI만)
```

LTC6813 드라이버를 **90% 재사용** 가능. 나머지 10%는 수정 필요.

---

## 비용 분석

24셀 BMS 기준 비용 비교:

```
┌─────────────────────────────────────────────────────────┐
│  옵션               │ IC 수량 │ IC 비용 │ 개발 비용   │
├─────────────────────┼─────────┼─────────┼─────────────┤
│  AD7280A            │ 4개     │ $32     │ 완료        │
│  ADBMS6830          │ 2개     │ $30     │ 재개발 필요 │
│  W7280 (중국 호환)  │ 4개     │ $12     │ 적음        │
│  SH79F32            │ 2개     │ $4      │ 많음        │
│  JW3816             │ 2개     │ $6      │ 중간        │
└─────────────────────────────────────────────────────────┘
```

**숨겨진 비용:**

```
W7280:
- 불량률 40% → 교체/리워크 비용
- A/S 클레임 위험
- 신뢰성 테스트 추가 필요

SH79F32:
- 개발 기간 3배 → 인건비
- 기술 지원 없음 → 막히면 혼자 해결

JW3816:
- 드라이버 수정 필요
- isoSPI 포기 → 노이즈 내성 감소
```

---

## 결론: 써도 될까?

**케이스별 판단:**

```
┌─────────────────────────────────────────────────────────┐
│  상황                     │ 중국산 IC │ 이유          │
├───────────────────────────┼───────────┼───────────────┤
│  프로토타입/학습용         │ O         │ 저렴, 실험용  │
│  소량 생산 (100대 미만)   │ △         │ 품질 관리     │
│  양산 (1000대 이상)       │ △~X       │ 불량률 위험   │
│  자동차/의료용             │ X         │ 인증, 신뢰성  │
│  안전 중요 응용            │ X         │ 리스크        │
└─────────────────────────────────────────────────────────┘
```

**내 선택:**

- 프로토타입: JW3816 사용 (저렴하고 품질 괜찮음)
- 양산: ADBMS6830으로 마이그레이션 (장기적 안정성)

---

## 중국산 IC 사용 시 체크리스트

```
중국산 IC 도입 전 확인:
┌─────────────────────────────────────────────────────────┐
│                                                         │
│  [문서]                                                 │
│  □ 영문 데이터시트 존재?                               │
│  □ 레지스터 맵 명확?                                   │
│  □ 어플리케이션 노트 있음?                             │
│                                                         │
│  [샘플 테스트]                                          │
│  □ 기본 기능 동작?                                     │
│  □ 정밀도 스펙 이내?                                   │
│  □ 온도 특성 확인?                                     │
│  □ 장기 안정성 테스트 (최소 1주)?                      │
│                                                         │
│  [기술 지원]                                            │
│  □ 연락 가능한 창구?                                   │
│  □ 응답 속도?                                          │
│  □ 언어 장벽?                                          │
│                                                         │
│  [공급망]                                               │
│  □ 안정적인 공급?                                      │
│  □ 리드타임?                                           │
│  □ 대체 공급선?                                        │
│                                                         │
│  [인증]                                                 │
│  □ 필요한 인증 보유? (AEC-Q100 등)                     │
│  □ 신뢰성 테스트 데이터?                               │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## 정리

| IC | 가격 | 품질 | 문서 | 지원 | 추천 |
|----|------|------|------|------|------|
| AD7280A | $8 | ★★★★★ | ★★★★★ | ★★★★ | 단종 예정 |
| W7280 | $3 | ★★☆☆☆ | ★★★☆☆ | ★☆☆☆☆ | 비추 |
| SH79F32 | $2 | ★★★☆☆ | ★☆☆☆☆ | ★☆☆☆☆ | 숙련자만 |
| JW3816 | $3 | ★★★★☆ | ★★★★☆ | ★★★☆☆ | 프로토타입 OK |
| ADBMS6830 | $15 | ★★★★★ | ★★★★★ | ★★★★★ | 양산용 |

**교훈:**

> "싼 게 비지떡"은 부품에도 적용된다.

개발 시간, 불량률, 기술 지원까지 고려하면 **총 비용**은 비슷하거나 더 높을 수 있다.

**다음 글에서**: 14S→24S 변환기 - NMC에서 LFP로 갈아타기.

---

## 시리즈 네비게이션

**번외편**
- [B1 - AD7280A 단종 이야기](/posts/bms/ad7280a-bms-dev-b1/)
- [B2 - Linux IIO 드라이버 분석](/posts/bms/ad7280a-bms-dev-b2/)
- **B3 - 중국산 BMS IC 비교** ← 현재 글
- B4 - 14S→24S 변환기

---

## 참고 자료

- [JW3816 Datasheet](http://www.jht-tech.com/)
- [Battery AFE IC Comparison](https://www.richtek.com/battery-management)
- [AEC-Q100 Automotive Qualification](https://www.aecouncil.com/)
