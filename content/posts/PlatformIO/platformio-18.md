---
title: "PlatformIO μ™„λ²½ κ°€μ΄λ“ #18 - λΈλ μ΄ν¬ν¬μΈνΈ"
date: 2024-12-22
tags: ["PlatformIO", "λ””λ²„κΉ…", "λΈλ μ΄ν¬ν¬μΈνΈ"]
categories: ["κ°λ°ν™κ²½"]
series: ["PlatformIO μ™„λ²½ κ°€μ΄λ“"]
summary: "μ›ν•λ” μ„μΉμ—μ„ λ©μ¶”κ³  μƒνƒ ν™•μΈν•κΈ°."
---

λ””λ²„κ±° μ—°κ²°ν–μΌλ©΄ μ΄μ  ν™μ©ν•΄λ³΄μ.

λΈλ μ΄ν¬ν¬μΈνΈλ΅ μ›ν•λ” κ³³μ—μ„ λ©μ¶”κΈ°.

---

## λΈλ μ΄ν¬ν¬μΈνΈ μ„¤μ •

### λ°©λ²• 1: ν΄λ¦­

λΌμΈ λ²νΈ μ™Όμ½ ν΄λ¦­ β†’ λΉ¨κ°„ μ  μƒμ„±.

{{< figure src="/imgs/pio-breakpoint.png" caption="λΈλ μ΄ν¬ν¬μΈνΈ" >}}

### λ°©λ²• 2: λ‹¨μ¶•ν‚¤

ν•΄λ‹Ή λΌμΈμ—μ„ `F9`.

### λ°©λ²• 3: μ°ν΄λ¦­

λΌμΈμ—μ„ μ°ν΄λ¦­ β†’ "Add Breakpoint".

---

## λΈλ μ΄ν¬ν¬μΈνΈ μΆ…λ¥

### μΌλ° λΈλ μ΄ν¬ν¬μΈνΈ

ν•΄λ‹Ή λΌμΈμ—μ„ λ¬΄μ΅°κ±΄ λ©μ¶¤.

### μ΅°κ±΄λ¶€ λΈλ μ΄ν¬ν¬μΈνΈ

νΉμ • μ΅°κ±΄μΌ λ•λ§ λ©μ¶¤.

μ°ν΄λ¦­ β†’ "Add Conditional Breakpoint"

```cpp
// i == 10 μΌ λ•λ§ λ©μ¶¤
for (int i = 0; i < 100; i++) {
    doSomething(i);  // λΈλ μ΄ν¬ν¬μΈνΈ + μ΅°κ±΄: i == 10
}
```

### λ΅κ·Έ ν¬μΈνΈ

λ©μ¶”μ§€ μ•κ³  λ΅κ·Έλ§ μ¶λ ¥.

μ°ν΄λ¦­ β†’ "Add Logpoint"

```
Value is {i}
```

μ‹λ¦¬μ–Ό μ¶λ ¥ μ• ν•΄λ„ λ¨.

---

## μ‹¤ν–‰ μ μ–΄

{{< figure src="/imgs/pio-debug-toolbar.png" caption="λ””λ²„κ·Έ ν΄λ°”" >}}

| λ²„νΌ | λ‹¨μ¶•ν‚¤ | λ™μ‘ |
|------|--------|------|
| β–¶οΈ Continue | F5 | λ‹¤μ λΈλ μ΄ν¬ν¬μΈνΈκΉμ§€ μ‹¤ν–‰ |
| β­οΈ Step Over | F10 | ν„μ¬ μ¤„ μ‹¤ν–‰ (ν•¨μ μ• λ“¤μ–΄κ°) |
| β¬‡οΈ Step Into | F11 | ν•¨μ μ•μΌλ΅ λ“¤μ–΄κ° |
| β¬†οΈ Step Out | Shift+F11 | ν„μ¬ ν•¨μ λ°–μΌλ΅ λ‚κ° |
| π”„ Restart | Ctrl+Shift+F5 | μ²μλ¶€ν„° λ‹¤μ‹ |
| βΉοΈ Stop | Shift+F5 | λ””λ²„κΉ… μΆ…λ£ |

---

## λ³€μ ν™•μΈ

### Variables ν¨λ„

ν„μ¬ μ¤μ½”ν”„μ λ³€μλ“¤ μλ™ ν‘μ‹.

- **Local**: μ§€μ—­ λ³€μ
- **Global**: μ „μ—­ λ³€μ
- **Static**: μ •μ  λ³€μ

### Watch ν¨λ„

νΉμ • λ³€μ/ν‘ν„μ‹ κ°μ‹.

`+` λ²„νΌμΌλ΅ μ¶”κ°€:
- `myVariable`
- `array[5]`
- `ptr->member`
- `a + b * 2`

---

## λ©”λ¨λ¦¬ ν™•μΈ

Debug Consoleμ—μ„:

```
-exec x/10x 0x20000000
```

λ©”λ¨λ¦¬ μ£Όμ† μ§μ ‘ ν™•μΈ.

---

## νΈμ¶ μ¤νƒ

Call Stack ν¨λ„μ—μ„ ν•¨μ νΈμ¶ μμ„ ν™•μΈ.

```
loop() at main.cpp:25
readSensor() at sensors.cpp:42
main() at main.cpp:10
```

ν΄λ¦­ν•λ©΄ ν•΄λ‹Ή μ„μΉλ΅ μ΄λ™.

---

## λ μ§€μ¤ν„° ν™•μΈ

Cortex λ μ§€μ¤ν„° λ³΄κΈ°:

Variables ν¨λ„ β†’ Registers

```
R0  = 0x00000001
R1  = 0x20001234
SP  = 0x20004FF0
PC  = 0x08001234
```

---

## λ””λ²„κ·Έ μμ‹

```cpp
#include <Arduino.h>

int counter = 0;

void setup() {
    Serial.begin(115200);
}

void loop() {
    counter++;                    // λΈλ μ΄ν¬ν¬μΈνΈ 1
    
    if (counter > 5) {
        Serial.println("Reset");  // λΈλ μ΄ν¬ν¬μΈνΈ 2 (μ΅°κ±΄: counter == 10)
        counter = 0;
    }
    
    delay(1000);
}
```

1. λΌμΈμ— λΈλ μ΄ν¬ν¬μΈνΈ μ„¤μ •
2. F5λ΅ μ‹μ‘
3. λ©μ¶”λ©΄ `counter` κ°’ ν™•μΈ
4. F5λ΅ κ³„μ† β†’ λ‹¤μ λΈλ μ΄ν¬ν¬μΈνΈ

---

## ν

### λ„λ¬΄ λ§μ€ λΈλ μ΄ν¬ν¬μΈνΈ

λΉ„ν™μ„±ν™”ν•λ ¤λ©΄:
- λΉ¨κ°„ μ  λ‹¤μ‹ ν΄λ¦­
- λλ” Breakpoints ν¨λ„μ—μ„ μ²΄ν¬ ν•΄μ 

### λ°λ³µλ¬Έ λ””λ²„κΉ…

μ΅°κ±΄λ¶€ λΈλ μ΄ν¬ν¬μΈνΈ ν™μ©:
```
i == 99
```

λ§μ§€λ§‰ λ°λ³µμ—μ„λ§ λ©μ¶¤.

### μΈν„°λ½νΈ λ””λ²„κΉ…

μΈν„°λ½νΈ ν•Έλ“¤λ¬μ—λ„ λΈλ μ΄ν¬ν¬μΈνΈ κ°€λ¥.

λ‹¨, νƒ€μ΄λ° μ΄μ λ°μƒν•  μ μμ.

---

## λ‹¤μ λ‹¨κ³„

λΈλ μ΄ν¬ν¬μΈνΈ ν™μ© μ™„λ£!

λ‹¤μ κΈ€μ—μ„ μ λ‹› ν…μ¤νΈ.

---

λ‹¤μ κΈ€: [#19 - μ λ‹› ν…μ¤νΈ](/posts/platformio/platformio-19/)
